
<link rel="stylesheet" href="doctor.component.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<div class="container">

   
    <div class="main-body">
        <div class="row gutters-sm">
            <div class="col-md-4 mb-3">
                <div class="card">
                <div class="card-body">
                    <div class="d-flex flex-column align-items-center text-center">
                    <img [src]='doctor.image' class="round-img">
                    <div class="mt-3">
                      <h4>{{doctor.name}}</h4>
                      <p class="text-secondary mb-1">{{doctor.speciality}}</p>
                      <p class="text-secondary mb-1"><i style='font-size:15px; color: red;' class="fa">&#xf0f8;</i> {{doctor.currentHospital}}</p>
                      
              
                    </div>
                    </div>
                    <div>
                        
                      </div>
                </div>
                </div>
            </div>
        </div>

            <div class="card mt-3">
                <div class="about">
                <div class="profile-head">
                    <div class="d-flex flex-column align-items-center text-center">
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link" [ngClass]="{'active':tab==='home'}" id="home-tab" (click)="tab='home'">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" [ngClass]="{'active':tab==='profile'}" id="profile-tab"  (click)="tab='profile'">Ratings and Reviews</a>
                        </li>
                    </ul></div>
                    <div class="col-md-12">
                            <div class="tab-content profile-tab" id="about-tab-content">
                                <div class="tab-pane fade" [ngClass]="{'show active':tab==='home'}" id="about">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label>Experience</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <p>{{doctor.experience}}</p>
                                                </div>
                                            </div>

                                            
                                            <div *ngIf="rating" class="row">
                                                <div class="col-md-6">
                                                    <label>Rating</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <div style="display:inline-block;color:#0062cc;margin-left:150px;margin-top:10px;margin-bottom:10px;">
                                                        <div style="display:flex;flex-direction:row;margin:2px 0px">
                                                            <h6>{{rating/20}}</h6><small>({{ratingObj.count}})</small>
                                                        </div>
                                                         <ratings  [rating]="rating"></ratings>
                                                         
                                                    </div>
                                                   
                                                </div>
                                            </div>



                                            <div *ngIf="doctor.awards" class="row">
                                                <div class="col-md-6">
                                                    <label>Awards and recognitions</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <p> 2020 Webby Awards for Health & Fitness</p>
                                                </div>
                                            </div>
                                            <div *ngIf="doctor.address" class="row">
                                                <div class="col-md-6">
                                                    <label>Address</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <p>doctor.address</p>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label>Email</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <p><a href="#">{{doctor.email}}</a></p>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label>Phone</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <p><a >{{doctor.phone}}</a></p>
                                                </div>
                                            </div>
                                            
                                </div>
                            </div>
                            <div class="tab-content" id="review-tab-content">
                                <div class="tab-pane fade"  [ngClass]="{'show active':tab==='profile'}" id="ratings-review" >
                                    <div style="display:flex;flex-direction:row">
                                      <h3  style="margin:20px 10%">Your Review</h3>  
                                      <button *ngIf='!editReview' class='btn btn-edit' (click)='toggleEdit(true)'><i class="fa fa-edit"></i> Edit</button> 
                                      <button class='btn btn-edit'>Report Doctor</button>
            
                                    </div>     

                                    
        
                                  <div  *ngIf='editReview' >

                                                  <div style="margin:10px 10%;">
                                                      <ratings [rating]='0'  style="margin: 0px 5px;" [mode]="'set'"></ratings>
                                                      <textarea style="width:100%;height:150px;" name="" id="" ></textarea>
                                                      <div style=" display:flex;flex-direction:row-reverse;">

                                                      <button class='btn btn-cancel'(click)='toggleEdit(false)'>Cancel</button> <button class='btn btn-save'>Save</button>

                                                      </div>
                                                  </div>

                                                 

                                                  

                                   </div>
                                  <div *ngIf='!editReview'>
                                                  <table>
                                                      <tr>
                                                          <td>
                                                              <div style="margin:20px;height:64px;width:64px;background-color:gray;border-radius: 50%;">
                                                                <img class='pro-img' src='https://image.freepik.com/free-photo/smiling-asian-woman-physician-white-coat_9083-2472.jpg' style='height:100%;width:100%;overflow:hidden;object-fit:cover;' alt="">
  
                                                              </div>
                                                          </td>
                                                          <td>
                                                              <div>
                                                                  
                                                                  
                                                                  <ratings [rating]='20'></ratings>
  
                                                                  <small>Updated on: 02/3/2021</small>
                                                                  <p style="color:black;margin:0px; font-weight:normal">very poorservice not agood doctor dont go thereblah blah blah</p>
                                                              </div>
  
                                                          </td>
                                                      </tr>
                                                      
                                                  </table>
                                   </div>
                                   <h3 style="margin:20px 10%">Other People's Reviews</h3>
                                          <div id='reviews-list'>

                                              <table >
                                                  <tr *ngFor='let review of reviews'>
                                                      <td>
                                                          <div style="margin:20px;height:64px;width:64px;background-color:gray;border-radius: 50%;">

                                                            <img class='pro-img'  [src]='review.user.image' style='height:100%;width:100%;overflow:hidden;object-fit:cover;' alt="">

                                                          </div>
                                                      </td>
                                                      <td>
                                                          <div>
                                                              <h5>{{review.user.name}}</h5>
                                                              
                                                              <ratings [rating]='review.rating*20'></ratings>

                                                              <small>Updated on: {{dateCreator(review.updated)}}</small>
                                                              <p style="color:black;margin:0px; font-weight:normal">{{review.review}}</p>
                                                          </div>

                                                      </td>
                                                  </tr>

                                                 
                                                  
                                              </table>

                                          </div>

                                              

                                         
                              </div>

                            </div>
                                
                        <button class="button" >Book Appointment</button>
                    </div>               
                    
                </div>
                </div>         
        </div>
    </div>
</div>

